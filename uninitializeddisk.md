# Uninitialized Disk Error and how to recover your data

## Intro
I recently wanted to upgrade my laptop to an SSHD to get a bit of extra performance from an aging laptop. Easy job I thought, so I bought a [nice new SSHD from amazon](https://www.amazon.co.uk/Seagate-FireCuda-Gaming-Internal-Hybrid/dp/B07H2549QS/ref=asc_df_B07H2549QS/?tag=googshopuk-21&linkCode=df0&hvadid=310762440393&hvpos=1o2&hvnetw=g&hvrand=17138688154959808652&hvpone=&hvptwo=&hvqmt=&hvdev=c&hvdvcmdl=&hvlocint=&hvlocphy=9046517&hvtargid=pla-565373859068&psc=1&th=1&psc=1), watched some YouTube videos of how to fit it, and away I went. 

The plan was to take out my old 1TB HDD, which had four years faithful service and then use it via a [SATA to USB cable](https://www.amazon.co.uk/s?k=sata+to+usb&adgrpid=55978659514&hvadid=259029592704&hvdev=c&hvlocphy=9046517&hvnetw=g&hvpos=1t1&hvqmt=e&hvrand=13248993460157892156&hvtargid=kwd-297164702344&tag=googhydr-21&ref=pd_sl_67koojwv4a_e) as extra storage / a backup drive. Being a seasoned IT pro with loads of experience (ie, I've stuffed this sort of thing up too many times to remember), I made sure I backed up the contents of my existing drive on to two 1TB portable drives, both of which mirror each other. 

So far, so good. 

I swapped the drives over. Re-installed Windows from a bootable USB and congratulated myself on a job well done. Now to transfer all of the files over from the old hard drive. 


## The Problem
Except - when I plug the old HDD in via USB, nothing happens. The first time. So I try a different USB port. Phew, I'm saved - all of my files show up. For all of two minutes. I gleefully start copying them across, then kaput. Every time I try to get access to the drive, nothing happens. At one point I even get some obtuse error message. 

Time to do what any experienced IT pro does - google it! Plenty of troubleshooting guides for this. The first of which talks about [using Computer Manager to troubleshoot the drive.](https://www.makeuseof.com/tag/external-drive-not-recognized-this-is-how-to-fix-it-in-windows/)

Uh-oh, the drive is showing as not initialised. Again resorting to google, there are plenty of tutorials for this. Most of them talk about clicking Initialize Disk, then [choosing between MBR or GPT](https://www.easeus.com/resource/disk-unknown-not-initialized.html).

> It is the easiest way to fix disk unknown not initialized issue. Just right-click My Computer --> Manage to run Disk Management, Here, right-click the hard drive and click "Initialize Disk". In the dialog box, select the disk(s) to initialize and choose MBR or GPT partition style.

Notice how it says "choose MBT or GPT partition style" and doesn't tell you which. Helpful. I have no idea which to pick, so google it. Apparently MBR is largely deprecated and relates to older systems. GPT is more common on UEFI boot systems, which my laptop is. I therefore select GPT, press OK and hope for the best. 

BIG. MISTAKE. 

![](sheldon.gif)

I've since learnt (which I should have tried to learn before pressing anything), that initialising a disk is akin to re-writing a new partition table. That is, Windows loses any sense of direction and won't be able to find it's way around the disk anymore. If I haven't made it clear enough - **DO NOT INITIALISE A DISK THAT HAS DATA YOU WANT TO KEEP.** 

The net result of all of this, is that I now have a disk that looks completely blank: 

![disk management](drives.PNG)

At this point I am now panicking, as I can no longer see any of my files on the disk. I franitcally google. Nothing seems to answer my question. There are glimmers of hope from companies called EaseUs and RecoverIt. That doesn't sound good. There are some free alternatives too, including TestDisk and Partition Find and Mount. 

## The Solution

I've used [TestDisk](https://www.cgsecurity.org/wiki/TestDisk) before with good results, so I plump for this one again. I have a KNOPPIX Live CD from years ago (probably my last data loss issue), so I boot into this and look for my data. TestDisk finds the partitions, but every time I go to look at them, I get a segmentation fault. That's not promising. 

I begin to wonder why I could originally see the disk, then all of a sudden it failed. Why TestDisk can't seem to access it properly. Basically why nothing works. The drive was working fine previously. The USB ports all work. All this points to is a bad cable. So I quickly purchase another SATA to USB cable on Prime next day delivery. This time, I spent a little more, wondering if that's what would make the difference. In case you're interested, here's the [cable I used](https://www.amazon.co.uk/StarTech-comUSB-SATA-Drive-Adapter-Cable-Black/dp/B00HJZJI84/ref=sr_1_3?keywords=sata+to+usb+startech&qid=1555020601&s=gateway&sr=8-3). 

When it arrives, I hook up my old drive, open TestDisk (the Windows version this time) and start to look around. TestDisk allows you to search for partitions on a drive:

![TestDisk Partitions](td_partitions.PNG)

Then look through the contents of those partitions. If at this point you see individual files you would like to keep, you can use TestDisk to copy them to a location of your choice:

![TestDisk Browse](td_browse.PNG)

Best of all, you can then write an image of that partition, which you will then be able to browse and explore with imaging tools:

![TestDisk Imaging](td_imaging.PNG)

I therefore now have access to all of my files. I've even heard that you can use TestDisk to rewrite the partition table so that the drive is repaired, but I haven't gone down this route, as I was able to recover everything I needed. 

Success!

![](bender.gif)

## Moral of the Story
As some of those American TV shows say - some of the scenes in this program have been staged for your entertainment. Most of the post above is correct. What I hadn't mentioned earlier was that I knew I had two good back ups. So whereas in the past a situation like this would have had me rocking backwards and forwards gibbering to myself, this time (in a lesson learnt through bitter experience), I knew I was mostly OK. It sucked to think I'd lost the drive, but I knew that I still had all my old data somewhere. I restored from one of the USB drives and all was right with the world again. 

But remember the most important lesson: Data you don't have backed up is data you don't care about. I have always advocated the [1-2-3 Backup strategy](https://www.backblaze.com/blog/the-3-2-1-backup-strategy/) and also have a calendar reminder for [World Backup Day](http://www.worldbackupday.com/en/), ensuring I do my backups on or as close to that day as possible. Yes, annually isn't that frequent. But it's better than nothing and also depends upon your RPO (Recovery Point Objective) and backup goals. 

Stay safe out there and make sure you backup well!

